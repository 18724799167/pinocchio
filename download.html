---
layout: default
title: Download
group: navigation
disqus: no
---

<h1 id="download" class="page-header">{{ page.title }}</h1>

<h2>How to install Pinocchio on your machine?</h2>

<p class="lead">
  The software architecture has been tested entirely on Ubuntu 10.04 LTS, 12.04 LTS, and 14.04 LTS. If you are running other distributions, we expect the library to work correctly but we can not guarantee it. If you only want the C++ library, without python binding and 3D-vizualisation tool, do not install eigenpy nor gepetto-viewer related packages.
  </br>
  There is currently no released binary package.
  </br>
  To install Pinocchio from sources, you will first need to perform installations of other packages themselves dependent on other ones. To facilitate the procedure, you will find in the tab "Source" all you need to install Pinocchio and
  Gepetto viewer (ie the 3D-vizualisation tool we advice to use in complement of Pinocchio if you need to display your robots)
</p>

<ul class="nav nav-tabs" id="howto">
  <li class="active"><a href="#debian" data-toggle="tab"><img src="http://static.oswatershed.org/debian.png">
      Debian / <img src="http://static.oswatershed.org/ubuntu.png"> Ubuntu</a></li>
  <li><a href="#source" data-toggle="tab"><span class="glyphicon glyphicon-fire"></span> Source</a></li>
</ul>

<div class="tab-content" style="padding-top: 1.75em">
  
  <div class="tab-pane active" id="debian">

    <p> Debian packages will come soon. Meanwhile, we propose a <a href="{{site.baseurl}}/assets/Makefile">Makefile</a>*. </br>

        Along the installation procedure with Makefile, some environment variables are
        defined. It is recommended to include these definitions into an
        initialization file like `.tcshrc` or `.bashrc` so that they will be
        defined at each new session.
        To complete the installation, you'll need a specific arborescence : a devel direcotry with two subdirectories : install/ and src/.
        An environment variable (<code>DEVEL_DIR</code> must be defined and the Makefile run from <code>$DEVEL_DIR/src/</code> :
        <code>cd $DEVEL_DIR && make</code> 
    </p>
    <p>* : This Makefile is still in Beta. Do not hesitate to contact us to report any problems.</p>
    <!-- <p>If you are using Debian or Ubuntu, please open a terminal and run the following command:</p>

    {% highlight bash %}
    $ sudo apt-get install libroboptim-core-dev
    {% endhighlight %} -->
  </div>
  
  <div class="tab-pane" id="source">
    <div class="bs-callout bs-callout-danger">
      <p><span class='glyphicon glyphicon-warning-sign'></span>
	Compiling from source is significantly more challenging than
	installing a binary package. Be prepared to face compilation
	errors, software bugs and crashes.
      </p>
    </div>

    <h3> Tips </h3>

    <p>In the next steps, we are going to install many packages downloaded from github so ensure to have git installed (from apt). In the github page of each package you will find the installation steps. The packages from humanoid-path-planner or stack-of-tasks repositories are provided with a cmake submodule. We strongly recommend that you clone them with a --recursive option. In case you don't, you may have problems finding boost/cmake or others during the generation of your makefile. In case that happens, just go to the root of your git module and type:
    </p>

    {% highlight bash %}
    $ git submodule init
$ git submodule update
    {% endhighlight %}

    <p>
      A bunch of packages must be installed first before we can install Pinocchio and the viewer. To make things easier, here is a non-exhaustive list of dependencies you can get from apt:
    </p>

    {% highlight bash %}
    sudo apt-get install libboost-dev libboost-doc libboost-thread-dev libboost-system-dev libboost-test-dev libboost-filesystem-dev libboost-python-dev libboost-program-options-dev libtinyxml-dev libopenthreads14 libeigen3-dev libeigen3-doc libomniorb4-dev omniorb-nameserver omniidl omniidl-python pkg-config
    {% endhighlight %}


    <p>
      Following this procedure, you may have problems finding the libraries when compiling. If so, we advice you to check the paths where to search for theses libraries/packages. Three environement variables are to be checked : <code>PYTHONPATH</code>,<code>PKG_CONFIG_PATH</code>and <code>LD_LIBRARY_PATH</code>
    </p>

    <h3>Installing from Git</h3>

    <p> The following procedure is almost repeated for each package.</p>
    {% highlight bash %}
    $ git clone --recursive <git_url>
    # Move to the newly created directory
    $ cd <package>
    # Create build directory
    $ mkdir build && cd build
    # Run cmake or ccmake and set the installation options as needed
    $ cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/your/install/prefix ..
    # Build the software
    $ make
    # Install the software
    $ make install
    {% endhighlight %}

    <h3>Full Installation</h3>

    <p> It is important to install the following packages in the order indicated because of dependencies. EigenPy is not mandatory if you only want the C++ library.
        In case you want the python wrapping provided with Pinocchio, you will need to install it along with Gepetto Viewer.
    </p>

    <ul>
      <li>console_bridge (<a href="https://github.com/ros/console_bridge.git">github</a>)</li>
      <li>urdfdom_headers (<a href="https://github.com/ros/urdfdom_headers.git">github</a>)</li>
      <li>urdfdom (<a href="https://github.com/ros/urdfdom.git">github</a>)</li> 
      <li>EigenPy (<a href="https://github.com/stack-of-tasks/eigenpy.git">github</a>) </br>
           Depending on your version of NumPy, you may have errors at compilation of eigenpy. If so, you can modify directly /usr/include/python2.7/numpy/ndarraytypes.h and remove the trailing comma at lines 159 and 211 to have:

            {% highlight Cpp %}
            typedef enum {
                NPY_INTROSELECT=0
                } NPY_SELECTKIND;
            {% endhighlight %}

            and 
            {% highlight Cpp %}
            NPY_INTERNAL_UNSAFE_CASTING_BUT_WARN_UNLESS_SAME_KIND = 100
                } NPY_CASTING;
            {% endhighlight %}
      </li>
      <li>Pinocchio (<a href="https://github.com/stack-of-tasks/pinocchio.git">github</a>) : You can either get the master branch or the development one.</li>
    </ul>

    <ul>
      <li>Collada-dom (<a href="https://github.com/humanoid-path-planner/collada-dom.git">github</a>)</li>
      <li>OpenSceneGraph : </br>
          1. Install the dependencies required for OSG  <code><pre>sudo apt-get build-dep openscenegraph`</pre></code>
          2. Get the source files <code><pre>wget http://www.openscenegraph.org/downloads/developer_releases/OpenSceneGraph-3.2.1.zip</pre></code>
          3. Unzip </br>
          4. In a terminal, go to the unzipped directory and type : <code><pre> ./configure && make && make install</pre></code>

          <div class="bs-callout bs-callout-danger">
            <p><span class='glyphicon glyphicon-warning-sign'></span>
            pkg_config may have problems to find the path to libcollada. Check that the CMAKE_libcollada_path is correctly set.
            </p>
          </div>
      </li>
      <li>Gepetto-viewer (<a href="https://github.com/humanoid-path-planner/gepetto-viewer.git">github</a>)</li>
      <li>Gepetto-viewer-corba (<a href="https://github.com/humanoid-path-planner/gepetto-viewer-corba.git">github </a>) </li>
    </ul>

  </div>
</div>

<script type="text/javascript">
  $(function () { $('#howto a:last').tab('show') })
</script>

<div style="padding: 10em"></div>
